<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <ui:composition template="./../resources/templates/plantilla.xhtml">
            <ui:define name="content">

<b:panel title ="COMPLETAR PEDIDO" look="danger">

<b:dataTable value="#{carritoController.carrito}"
                                     var="carrito"
                                     excel="false"
                                     csv="false"
                                     pdf="false"
                                     print="false"
                                     copy="false"
                                     column-visibility="false"                                    
                                     >
<b:dataTableColumn value="#{carrito.producto}"
                                     width="9%"
                                     label="Producto"/>    
</b:dataTable>

<h:form id = "registroPedidoForm">
<!--                        Fila 1 :placa-->
<b:row>
<!--    toma el ancho de 2 columnas-->
    <b:column medium-screen ="2">
        <h:outputLabel value="Placa"/>
    </b:column>
    <b:column medium-screen="4">
    <b:inputText placeholder="Placa"
                 value="#{pedidoController.placa}"
                 id ="Placa"/>
    </b:column>
    <b:column medium-screen="6" style-class="message">
        <b:message for="Placa"/>
    </b:column>
</b:row>
<!--                        Fila 2 sobre fecha atencion-->
<b:row>
<!--    toma el ancho de 2 columnas-->
    <b:column medium-screen ="2">
        <h:outputLabel value="Fecha de Atención"/>
    </b:column>

    <b:column medium-screen="4">
    <b:datepicker id="fechaAtencion"
                 required="true"
                 requiredMessage="Se requiere la fecha de atencion"
                 value="#{pedidoController.fechaAtencion}"/>
    </b:column>
    <b:column medium-screen="6" style-class="message">
        <b:message for="F. Atencion"/>
    </b:column>
</b:row>
<!--                        Fila 8 los botones de Acción-->
<b:row>

    <b:column medium-screen ="4">
<p:captcha label="Check"/>

    </b:column>
    
    <b:column medium-screen="6" >
        <b:commandButton value="CONFIRMAR PEDIDO"
                         action="#{pedidoController.inserta()}"
                         look="danger"
                         style="width:33%;text-decoration:underline">
            <f:actionListener binding="#{pedidoController.insertaAtendido()}"/>
            <f:actionListener binding="#{carroController.borraCarrito()}"/>
            
        </b:commandButton>
                         
       
    </b:column>
</b:row>


                    </h:form>
                </b:panel>
                
            </ui:define>

            <ui:define name="bottom_content">
                <img src="../logo.png"
                     height="50"
                     width="100"/>
                <span style="margin-left:30%;text-align:center">Dirección:75mtrs N de Plywood, Tibas</span> 
                <span style="margin-left:25%">autolavado@gmail.com</span>                             
            </ui:define>            
        </ui:composition>

    </h:body>
</html>
